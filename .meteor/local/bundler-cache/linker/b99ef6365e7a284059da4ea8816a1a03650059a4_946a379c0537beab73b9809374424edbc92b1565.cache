[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMaterialize = Package['materialize:materialize'].Materialize;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"main.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.html                                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.main.js\"), {                                                                          // 1\n  \"*\": module.makeNsSetter()                                                                                           // 2\n});                                                                                                                    // 3\n                                                                                                                       // 4\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.body.addContent((function() {                                                                                 // 2\n  var view = this;                                                                                                     // 3\n  return [ HTML.NAV({                                                                                                  // 4\n    class: \"teal\"                                                                                                      // 5\n  }, \"\\n        \", HTML.DIV({                                                                                          // 6\n    class: \"container\"                                                                                                 // 7\n  }, \"\\n            \", HTML.DIV({                                                                                      // 8\n    clas: \"nav-wrapper\"                                                                                                // 9\n  }, \"\\n                \", HTML.Raw('<a href=\"#\" class=\"brand-logo center\">iBuy</a>'), \"\\n                \", HTML.UL({\n    id: \"nav-mobile\",                                                                                                  // 11\n    class: \"right\"                                                                                                     // 12\n  }, \"\\n                    \", Blaze.If(function() {                                                                   // 13\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                                 // 14\n  }, function() {                                                                                                      // 15\n    return [ \"\\n                        \", HTML.LI({                                                                   // 16\n      class: \"nav-item\"                                                                                                // 17\n    }, \"\\n                            \", HTML.A({                                                                      // 18\n      class: \"waves-effect waves-light btn modal-trigger\",                                                             // 19\n      href: \"#addModal\",                                                                                               // 20\n      style: \"padding: 0px 14px 0px 14px\"                                                                              // 21\n    }, \"Add Item\"), \"\\n                        \"), \"\\n                    \" ];                                         // 22\n  }), \"\\n                \"), \"\\n                \", HTML.UL({                                                           // 23\n    class: \"left\"                                                                                                      // 24\n  }, \"\\n                    \", HTML.LI({                                                                               // 25\n    class: \"nav-item\"                                                                                                  // 26\n  }, \"\\n                        \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.DIV({\n    class: \"container\"                                                                                                 // 28\n  }, \"\\n        \", HTML.Raw(\"<h1>Items</h1>\"), \"\\n        \", Blaze.If(function() {                                     // 29\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                                 // 30\n  }, function() {                                                                                                      // 31\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"sort\")), \"\\n            \", HTML.UL({             // 32\n      class: \"collection\"                                                                                              // 33\n    }, \"\\n                \", HTML.LI({                                                                                 // 34\n      class: \"collection-item\"                                                                                         // 35\n    }, \"\\n                    \", HTML.TABLE(\"\\n                        \", HTML.TR(\"\\n                            \", HTML.TD({\n      style: \"padding: 0px; width: 40%\"                                                                                // 37\n    }, \"Name\"), \"\\n                            \", HTML.TD({                                                            // 38\n      style: \"padding: 0px; width: 20%\"                                                                                // 39\n    }, \"Qty\"), \"\\n                            \", HTML.TD({                                                             // 40\n      style: \"padding: 0px; width: 20%\"                                                                                // 41\n    }, \"Priority\"), \"\\n                            \", HTML.TD({                                                        // 42\n      style: \"padding: 0px; width: 20%\"                                                                                // 43\n    }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n                \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"items\"));                                                                     // 45\n    }, function() {                                                                                                    // 46\n      return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"item\")), \"\\n                \" ];       // 47\n    }), \"\\n            \"), \"\\n        \" ];                                                                             // 48\n  }, function() {                                                                                                      // 49\n    return [ \"\\n            \", HTML.P(\"Please log in to manage your shopping list.\"), \"\\n        \" ];                  // 50\n  }), \"\\n    \"), \"\\n\\n    \", Spacebars.include(view.lookupTemplate(\"add\")), \"\\n\\n    \", HTML.SCRIPT(\"\\n        $(document).ready(function(){\\n            $('.modal').modal();\\n        });\\n    \") ];\n}));                                                                                                                   // 52\nMeteor.startup(Template.body.renderToDocument);                                                                        // 53\n                                                                                                                       // 54\nTemplate.__checkName(\"item\");                                                                                          // 55\nTemplate[\"item\"] = new Template(\"Template.item\", (function() {                                                         // 56\n  var view = this;                                                                                                     // 57\n  return HTML.LI({                                                                                                     // 58\n    class: \"collection-item \"                                                                                          // 59\n  }, \"\\n        \", HTML.TABLE(\"\\n            \", HTML.TR(\"\\n                \", HTML.TD({                                // 60\n    style: \"padding: 0px; padding-top: 0px; padding-bottom: 0px; width: 40%\"                                           // 61\n  }, Blaze.View(\"lookup:name\", function() {                                                                            // 62\n    return Spacebars.mustache(view.lookup(\"name\"));                                                                    // 63\n  })), \"\\n                \", HTML.TD({                                                                                 // 64\n    style: \"padding: 0px; width: 20%\"                                                                                  // 65\n  }, Blaze.View(\"lookup:quantity\", function() {                                                                        // 66\n    return Spacebars.mustache(view.lookup(\"quantity\"));                                                                // 67\n  })), \"\\n                \", HTML.TD({                                                                                 // 68\n    style: \"padding: 0px; width: 20%\"                                                                                  // 69\n  }, Blaze.View(\"lookup:priority\", function() {                                                                        // 70\n    return Spacebars.mustache(view.lookup(\"priority\"));                                                                // 71\n  })), \"\\n                \", HTML.TD({                                                                                 // 72\n    style: \"padding: 0px; width: 20%\"                                                                                  // 73\n  }, HTML.A({                                                                                                          // 74\n    href: \"#\",                                                                                                         // 75\n    class: \"delete-item secondary-content\"                                                                             // 76\n  }, HTML.I({                                                                                                          // 77\n    class: \"material-icons\"                                                                                            // 78\n  }, \"done\"))), \"\\n            \"), \"\\n        \"), \"\\n    \");                                                           // 79\n}));                                                                                                                   // 80\n                                                                                                                       // 81\nTemplate.__checkName(\"add\");                                                                                           // 82\nTemplate[\"add\"] = new Template(\"Template.add\", (function() {                                                           // 83\n  var view = this;                                                                                                     // 84\n  return HTML.Raw('<!-- Modal Structure -->\\n    <div id=\"addModal\" class=\"modal\">\\n        <div class=\"modal-content\">\\n            <h3>Add Item</h3>\\n            <form class=\"add-form\">\\n                <input type=\"text\" name=\"text\" placeholder=\"Item Name\" style=\"width: 60%\">\\n                <input type=\"text\" name=\"quantity\" placeholder=\"QTY\" style=\"width: 10%\">\\n                <input type=\"text\" name=\"priority\" placeholder=\"Priority\" style=\"width: 20%\">\\n                <!-- TODO: Figure out a dropdown for quantity. -->\\n                <!-- <select name=\"quantity\" size=\"3\" style=\"width: 20%\">\\n                    <option value=\"1\" selected>1</option>\\n                    <option value=\"2\">2</option>\\n                    <option value=\"3\">3</option>\\n                    <option value=\"4\">4</option>\\n                </select> -->\\n                <input type=\"submit\" value=\"Add\" class=\"add modal-close waves-effect waves-green btn-flat\">\\n            </form>\\n        </div>\\n    </div>');\n}));                                                                                                                   // 86\n                                                                                                                       // 87\nTemplate.__checkName(\"sort\");                                                                                          // 88\nTemplate[\"sort\"] = new Template(\"Template.sort\", (function() {                                                         // 89\n  var view = this;                                                                                                     // 90\n  return HTML.Raw('Sort By:\\n    <input type=\"button\" class=\"priority-sort waves-effect waves-green btn\" value=\"Priority\" style=\"margin: 0px 10px 0px 10px; padding: 0px 14px 0px 14px\">\\n    <input type=\"button\" class=\"name-sort waves-effect waves-green btn\" value=\"Name\" style=\"margin: 0px 10px 0px 10px; padding: 0px 14px 0px 14px\">');\n}));                                                                                                                   // 92\n                                                                                                                       // 93\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Template = void 0;                                                                                                 // 1\nmodule.watch(require(\"meteor/templating\"), {                                                                           // 1\n    Template: function (v) {                                                                                           // 1\n        Template = v;                                                                                                  // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nvar items = void 0;                                                                                                    // 1\nmodule.watch(require(\"../lib/collections.js\"), {                                                                       // 1\n    items: function (v) {                                                                                              // 1\n        items = v;                                                                                                     // 1\n    }                                                                                                                  // 1\n}, 1);                                                                                                                 // 1\nvar Accounts = void 0;                                                                                                 // 1\nmodule.watch(require(\"meteor/accounts-base\"), {                                                                        // 1\n    Accounts: function (v) {                                                                                           // 1\n        Accounts = v;                                                                                                  // 1\n    }                                                                                                                  // 1\n}, 2);                                                                                                                 // 1\nmodule.watch(require(\"./main.html\"));                                                                                  // 1\n// Configures the accounts package.                                                                                    // 5\nAccounts.ui.config({                                                                                                   // 6\n    passwordSignupFields: \"USERNAME_ONLY\"                                                                              // 7\n});                                                                                                                    // 6\n                                                                                                                       //\nvar _dep = new Deps.Dependency();                                                                                      // 12\n                                                                                                                       //\nTemplate.body.helpers({                                                                                                // 14\n    items: function () {                                                                                               // 15\n        _dep.depend();                                                                                                 // 16\n                                                                                                                       //\n        if (sortType == null || sortType == \"priority\") {                                                              // 17\n            return items.find({}, {                                                                                    // 18\n                sort: {                                                                                                // 18\n                    priority: -1                                                                                       // 18\n                }                                                                                                      // 18\n            });                                                                                                        // 18\n        } else if (sortType == \"name\") {                                                                               // 19\n            return items.find({}, {                                                                                    // 21\n                sort: {                                                                                                // 21\n                    name: 1                                                                                            // 21\n                }                                                                                                      // 21\n            });                                                                                                        // 21\n        }                                                                                                              // 22\n    }                                                                                                                  // 23\n});                                                                                                                    // 14\nTemplate.sort.events({                                                                                                 // 26\n    'click .priority-sort': function () {                                                                              // 27\n        Meteor.call('setSort', \"priority\");                                                                            // 28\n                                                                                                                       //\n        _dep.changed();                                                                                                // 29\n    },                                                                                                                 // 30\n    'click .name-sort': function () {                                                                                  // 31\n        Meteor.call('setSort', \"name\");                                                                                // 32\n                                                                                                                       //\n        _dep.changed();                                                                                                // 33\n    }                                                                                                                  // 34\n});                                                                                                                    // 26\nTemplate.add.events({                                                                                                  // 37\n    'submit .add-form': function () {                                                                                  // 38\n        event.preventDefault();                                                                                        // 39\n        var target = event.target;                                                                                     // 41\n        var name = target.text.value;                                                                                  // 42\n        var quantity = target.quantity.value;                                                                          // 43\n        var priority = target.priority.value;                                                                          // 44\n        name = name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();                                             // 46\n        Meteor.call('items.insert', name, quantity, priority);                                                         // 48\n        target.text.value = '';                                                                                        // 50\n        target.quantity.value = '';                                                                                    // 51\n        target.priority.value = '';                                                                                    // 52\n        $('#addModal').modal('close');                                                                                 // 54\n        return;                                                                                                        // 56\n    }                                                                                                                  // 57\n});                                                                                                                    // 37\nTemplate.item.events({                                                                                                 // 60\n    'click .delete-item': function () {                                                                                // 61\n        Meteor.call('items.remove', this);                                                                             // 62\n        return;                                                                                                        // 63\n    }                                                                                                                  // 64\n});                                                                                                                    // 60\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"collections.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/collections.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({                                                                                                        // 1\n    items: function () {                                                                                               // 1\n        return items;                                                                                                  // 1\n    }                                                                                                                  // 1\n});                                                                                                                    // 1\nvar Mongo = void 0;                                                                                                    // 1\nmodule.watch(require(\"meteor/mongo\"), {                                                                                // 1\n    Mongo: function (v) {                                                                                              // 1\n        Mongo = v;                                                                                                     // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nvar Meteor = void 0;                                                                                                   // 1\nmodule.watch(require(\"meteor/meteor\"), {                                                                               // 1\n    Meteor: function (v) {                                                                                             // 1\n        Meteor = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 1);                                                                                                                 // 1\nvar check = void 0;                                                                                                    // 1\nmodule.watch(require(\"meteor/check\"), {                                                                                // 1\n    check: function (v) {                                                                                              // 1\n        check = v;                                                                                                     // 1\n    }                                                                                                                  // 1\n}, 2);                                                                                                                 // 1\nvar items = new Mongo.Collection(\"items\");                                                                             // 5\nsortType = \"priority\";                                                                                                 // 7\nMeteor.methods({                                                                                                       // 9\n    'items.insert': function (name, quantity, priority) {                                                              // 10\n        priority = parseInt(priority);                                                                                 // 12\n                                                                                                                       //\n        if (!Meteor.userId()) {                                                                                        // 14\n            throw new Meteor.Error(\"You are not authorized to do that.\");                                              // 15\n        }                                                                                                              // 16\n                                                                                                                       //\n        items.insert({                                                                                                 // 18\n            name: name,                                                                                                // 19\n            quantity: quantity,                                                                                        // 20\n            priority: priority                                                                                         // 21\n        });                                                                                                            // 18\n    },                                                                                                                 // 23\n    'items.remove': function (item) {                                                                                  // 25\n        check(item._id, String);                                                                                       // 26\n        items.remove(item._id);                                                                                        // 28\n    },                                                                                                                 // 29\n    'setSort': function (type) {                                                                                       // 31\n        check(type, String);                                                                                           // 32\n        sortType = type;                                                                                               // 33\n    }                                                                                                                  // 34\n});                                                                                                                    // 9\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\"\n  ]\n});\nrequire(\"./client/template.main.js\");\nrequire(\"./lib/collections.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/main.js","lib/collections.js"],"names":["Template","module","watch","require","v","items","Accounts","ui","config","passwordSignupFields","_dep","Deps","Dependency","body","helpers","depend","sortType","find","sort","priority","name","events","Meteor","call","changed","add","event","preventDefault","target","text","value","quantity","charAt","toUpperCase","slice","toLowerCase","$","modal","item","export","Mongo","check","Collection","methods","parseInt","userId","Error","insert","_id","String","remove","type"],"mappings":"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","file":"/app.js","sourcesContent":["import { Template } from 'meteor/templating';\nimport { items } from '../lib/collections.js';\nimport { Accounts } from 'meteor/accounts-base';\n\n// Configures the accounts package.\nAccounts.ui.config({\n    passwordSignupFields: \"USERNAME_ONLY\"\n});\n\nimport './main.html';\n\nvar _dep = new Deps.Dependency();\n\nTemplate.body.helpers({\n    items() {\n        _dep.depend();\n        if (sortType == null || sortType == \"priority\") {\n            return items.find({}, {sort: {priority: -1}});\n        }\n        else if (sortType == \"name\") {\n            return items.find({}, {sort: {name: 1}});\n        }\n    }\n});\n\nTemplate.sort.events({\n    'click .priority-sort': function() {\n        Meteor.call('setSort', \"priority\");\n        _dep.changed();\n    },\n    'click .name-sort': function() {\n        Meteor.call('setSort', \"name\");\n        _dep.changed();\n    }\n});\n\nTemplate.add.events({\n    'submit .add-form': function() {\n        event.preventDefault();\n\n        const target = event.target;\n        const name = target.text.value;\n        const quantity = target.quantity.value;\n        const priority = target.priority.value;\n\n        name = name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n\n        Meteor.call('items.insert', name, quantity, priority);\n\n        target.text.value = '';\n        target.quantity.value = '';\n        target.priority.value = '';\n\n        $('#addModal').modal('close');\n\n        return;\n    }\n});\n\nTemplate.item.events({\n    'click .delete-item': function() {\n        Meteor.call('items.remove', this);\n        return;\n    }\n});\n","import { Mongo } from 'meteor/mongo';\nimport { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\n\nexport const items = new Mongo.Collection(\"items\");\n\nsortType = \"priority\";\n\nMeteor.methods({\n    'items.insert'(name, quantity, priority) {\n\n        priority = parseInt(priority);\n\n        if (!Meteor.userId()) {\n            throw new Meteor.Error(\"You are not authorized to do that.\");\n        }\n\n        items.insert({\n            name,\n            quantity,\n            priority\n        });\n    },\n\n    'items.remove'(item) {\n        check(item._id, String);\n\n        items.remove(item._id);\n    },\n\n    'setSort'(type) {\n        check(type, String);\n        sortType = type;\n    }\n})\n"]}}]